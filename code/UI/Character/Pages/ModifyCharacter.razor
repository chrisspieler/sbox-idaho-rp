@using IdahoRP.Api;
@using Sandbox;

@namespace IdahoRP.UI
@inherits IdahoRP.UI.Modal;

<root>
    <NamePicker @ref=NamePicker class="thin-border" Data=@Data/>
    <GenderPicker @ref=GenderPicker class="thin-border" SelectedGenderId=@Data.GenderId/>
    <button class="solid" onclick="@(() => ConfirmCharacter())">Confirm Character</button>
</root>

@code {
    public NamePicker NamePicker { get; set; }
    public GenderPicker GenderPicker { get; set; }
    public CitizenData Data { get; set; }

    public void ConfirmCharacter()
    {
        Commands.SetName(Game.SteamId, NamePicker.SelectedName);
        Commands.SetGender(Game.SteamId, GenderPicker.SelectedGenderId);
        Close();
    }
}